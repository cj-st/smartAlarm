<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>src\tomtom\dom\DomUtil.js - TomTom JavaScript SDK</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="http://www.tomtom.com/global/images/tomtom-logo_tcm166-3340.png" title="TomTom JavaScript SDK"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 2.1.0</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/L.Control.Pan.html">L.Control.Pan</a></li>
            
                <li><a href="../classes/L.Control.ZoomSlider.html">L.Control.ZoomSlider</a></li>
            
                <li><a href="../classes/tomtom.AjaxUtil.html">tomtom.AjaxUtil</a></li>
            
                <li><a href="../classes/tomtom.Animation.html">tomtom.Animation</a></li>
            
                <li><a href="../classes/tomtom.controls.AutoComplete.html">tomtom.controls.AutoComplete</a></li>
            
                <li><a href="../classes/tomtom.controls.ContextMenu.html">tomtom.controls.ContextMenu</a></li>
            
                <li><a href="../classes/tomtom.controls.FindLocationControl.html">tomtom.controls.FindLocationControl</a></li>
            
                <li><a href="../classes/tomtom.controls.PanZoomBar.html">tomtom.controls.PanZoomBar</a></li>
            
                <li><a href="../classes/tomtom.controls.RouteControl.html">tomtom.controls.RouteControl</a></li>
            
                <li><a href="../classes/tomtom.controls.RoutePlannerControl.html">tomtom.controls.RoutePlannerControl</a></li>
            
                <li><a href="../classes/tomtom.controls.TabContainer.html">tomtom.controls.TabContainer</a></li>
            
                <li><a href="../classes/tomtom.CustomDivIcon.html">tomtom.CustomDivIcon</a></li>
            
                <li><a href="../classes/tomtom.CustomMarker.html">tomtom.CustomMarker</a></li>
            
                <li><a href="../classes/tomtom.dom.DomUtil.html">tomtom.dom.DomUtil</a></li>
            
                <li><a href="../classes/tomtom.dom.DomUtilResult.html">tomtom.dom.DomUtilResult</a></li>
            
                <li><a href="../classes/tomtom.layers.MapLayer.html">tomtom.layers.MapLayer</a></li>
            
                <li><a href="../classes/tomtom.layers.TrafficIncidentLayer.html">tomtom.layers.TrafficIncidentLayer</a></li>
            
                <li><a href="../classes/tomtom.layers.TrafficLayer.html">tomtom.layers.TrafficLayer</a></li>
            
                <li><a href="../classes/tomtom.layers.WMSLayer.html">tomtom.layers.WMSLayer</a></li>
            
                <li><a href="../classes/tomtom.LocaleManager.html">tomtom.LocaleManager</a></li>
            
                <li><a href="../classes/tomtom.Main.html">tomtom.Main</a></li>
            
                <li><a href="../classes/tomtom.Map.html">tomtom.Map</a></li>
            
                <li><a href="../classes/tomtom.Marker.html">tomtom.Marker</a></li>
            
                <li><a href="../classes/tomtom.MarkerManager.html">tomtom.MarkerManager</a></li>
            
                <li><a href="../classes/tomtom.services.GeocodingService.html">tomtom.services.GeocodingService</a></li>
            
                <li><a href="../classes/tomtom.services.HDTRegionsService.html">tomtom.services.HDTRegionsService</a></li>
            
                <li><a href="../classes/tomtom.services.InitializeService.html">tomtom.services.InitializeService</a></li>
            
                <li><a href="../classes/tomtom.services.LegacyGeocodingService.html">tomtom.services.LegacyGeocodingService</a></li>
            
                <li><a href="../classes/tomtom.services.RoutingService.html">tomtom.services.RoutingService</a></li>
            
                <li><a href="../classes/tomtom.services.TrafficService.html">tomtom.services.TrafficService</a></li>
            
                <li><a href="../classes/tomtom.services.ViewportService.html">tomtom.services.ViewportService</a></li>
            
                <li><a href="../classes/tomtom.StringBundle.html">tomtom.StringBundle</a></li>
            
                <li><a href="../classes/tomtom.TrafficMarker.html">tomtom.TrafficMarker</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: src\tomtom\dom\DomUtil.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/**
 * Base class for the framework specific DomUtil.
 */
define([&quot;../BaseObject&quot;, &quot;sizzle&quot;, &quot;./DomUtilResult&quot;, &quot;../Utils&quot;], function (base, q, Result, utils) {

  base = L.Util.extend({}, L.DomUtil);

  tomtom.dom.DomUtil = L.Util.extend(base, {

    /**
     * A utility class that makes searching and manipulating the DOM very easy.  This class is very similar to jQuery and in fact it uses the same selector engine (Sizzle) that jQuery uses.
     * @extends L.DomUtil
     * @constructor
     * @class DomUtil
     * @namespace tomtom.dom
     */
    initialize: function () {
    },

    /**
     * Queries the DOM for the specified elements.
     * @method query
     * @param {String} query The selector to be used to query elements.
     * @param {DOM Node} [baseElement] The element whose children should be queried.
     * @return {result} The queried elements.
     * @chainable
     */
    query: function (query, baseElement) {

      if (utils.isArray(baseElement)) {
        var resultElements = [];
        baseElement.forEach(function (element) {
          q(query, element, resultElements);
        });
        return new Result(resultElements, this);
      } else {
        return new Result(q(query, baseElement), this);
      }
    },

    /**
     * Gets or sets a css property on an element.
     * @method css
     * @param {DOM Node} element The element to get / set css properties on.
     * @param {String} property The name of the css property to set.
     * @param {String} [value] The value of the css property.
     * @return {String|result} If getting a css property (no value specified) the value will be returned.
     *  Otherwise, a DomUtilResult containing the specified element will be returned.
     * @chainable
     */
    css: function (element, property, value) {

      if (!element.style) {
        return;
      }

      if (typeof(value) != &quot;undefined&quot;) {
        element.style[property] = value;
      } else {
        return element.style[property];
      }
    },

    /**
     * Gets the offset information for the specified element.
     * @method offset
     * @param {DOM Node} element The element to retrieve offset information for.
     * @return {Object} An object which contains top and left properties.
     */
    offset: function (element) {
      /* jshint -W084*/

      var curleft = 0;
      var curtop = 0;

      do {
        curleft += element.offsetLeft;
        curtop += element.offsetTop;
      } while (element = element.offsetParent);

      return { top: curtop, left: curleft };

    },

    /**
     * Clears the contents of the specified element.
     * @method empty
     * @param {DOM Node} element The element to empty.
     * @return {result} A DomUtilResult containing the element.
     * @chainable
     */
    empty: function (element) {
      while (element.children.length &gt; 0) {
        element.removeChild(element.children[0]);
      }

      return new Result(element, this);
    },

    /**
     * Gets or sets the content of the specified element.
     * @method html
     * @param {DOM Node} element The element whose content should be set.
     * @param {String} [html] The content to set.
     * @return {String|result} If html is set, a DomUtilResult containing the element will be returned, otherwise the HTML content
     *  will be returned.
     * @chainable
     */
    html: function (elements, html) {

      this.each(elements, function (element) {

        if (typeof(html) == &quot;string&quot; || typeof(html) == &quot;number&quot;) {
          element.innerHTML = html;
        } else {
          this.empty(element);
          element.appendChild(html);
        }

      });

      return new Result(elements, this);

    },

    /**
     * Appends a DOM Node or HTML content to the specified element.
     * @method append
     * @param {DOM Node} element The element to append to.
     * @param {String|DOM Node} html The content to append.
     * @returns {result}
     * @chainable
     */
    append: function (elements, html) {

      this.each(elements, function (element) {

        if (typeof(html) == &quot;string&quot;) {
          element.innerHTML += html;
        } else {
          element.appendChild(html);
        }
      });

      return new Result(elements, this);
    },

    /**
     * Gets or sets an attribute of the specified element.
     * @method attr
     * @param {DOM Node} element The element to get or set an attribute for.
     * @param {String} name The name of the attribute to get or set.
     * @param {String} [value] The value of the attribute to set.
     * @return {String|result}
     */
    attr: function (elements, name, value) {

      if (typeof(value) == &quot;undefined&quot;) {
        return this.first(elements).getAttribute(name);
      } else {
        this.each(elements, function (element) {
          element.setAttribute(name, value);
        });

        return new Result(elements, this);
      }

    },

    /**
     * Removes the attribute from the specified element.
     * @method removeAttr
     * @param {DOM Node} element The element to remove the attribute from.
     * @param {String} name The name of the attribute to remove.
     * @return {result}
     */
    removeAttr: function (elements, name) {

      this.each(elements, function (element) {
        element.removeAttribute(name);
      });

      return new Result(elements, this);

    },

    /**
     * Gets or sets associated data for the specified element.
     * @method data
     * @param {DOM Node} element The element to get or set associated data on.
     * @param {String} name The name of the associated data.
     * @param {Object} [value] If data is being set, the data to set.
     * @return {Object|result}
     */
    data: function (elements, name, value) {

      if (typeof(value) != &quot;undefined&quot;) {

        this.each(elements, function (element) {

          if (!element._ttData) {
            element._ttData = {};
          }

          element._ttData[name] = value;

        });

        return new Result(elements, this);

      } else {

        var element = this.first(elements);

        if (element) {
          return element._ttData[name];
        } else {
          return null;
        }
      }
    },

    /**
     * Gets or sets the form value for the specified element.
     * @method val
     * @param {DOM Node} element The element to get or set the form value for.
     * @param {String} [value] When setting the form value, the value to set.
     * @return {String|result}
     */
    val: function (elements, value) {

      if (typeof(value) == &quot;undefined&quot;) {

        var element = this.first(elements);

        if (element) {
          return element.value;
        } else {
          return &quot;&quot;;
        }

      } else {

        this.each(elements, function (element) {

          element.value = value;

        });

        return new Result(elements, this);

      }

    },

    _nlToArray: function (nodeList) {

      var arr = [];
      for (var i = nodeList.length; i--; arr.unshift(nodeList[i])){}
      return arr;

    },

    /**
     * Retrieves the element&#x27;s next sibling.
     * @method next
     * @param {DOM Node | DomUtilResult | Array} element The element to start from, if more than one element is supplied, the first element in the list is used.
     * @param {String} filter A query used to filter the siblings of the element.
     * @return {result}
     * @chainable
     */
    next: function (elements, filter) {

      var element = this.first(elements),
        parent = element.parentNode,
        childNodes = this._nlToArray(parent.childNodes),
        index = childNodes.indexOf(element);

      if (index == -1) {
        return null;
      }

      if (index &lt; childNodes.length) {

        elements = childNodes.splice(index + 1, childNodes.length - index);

        if (filter) {
          return new Result(q.matches(filter, elements), this);
        } else {
          return new Result(elements, this);
        }

      } else {
        return new Result([], this);
      }

    },

    /**
     * Retrieves the element&#x27;s previous sibling.
     * @method next
     * @param {DOM Node | DomUtilResult | Array} element The element to start from, if more than one element is supplied, the first element in the list is used.
     * @param {String} filter A query used to filter the siblings of the element.
     * @return {result}
     * @chainable
     */
    prev: function (elements, filter) {

      var element = this.first(elements),
        parent = element.parentNode,
        childNodes = this._nlToArray(parent.childNodes),
        index = childNodes.indexOf(element);

      if (index &gt; 0) {

        // remove all of the elements after the element including itself
        elements = childNodes.splice(0, index);

        // reverse the list so that the element closest is at the top
        elements.reverse();

        if (filter) {
          return new Result(q.matches(filter, elements), this);
        } else {
          return new Result(elements, this);
        }

      } else {
        return new Result([], this);
      }

    },

    /**
     * Gets the direct children of the specified element.
     * @method children
     * @param {DOM Node} element The element to get the children of.
     * @param {String} filter A query used to filter the children.
     * @return {result}
     * @chainable
     */
    children: function (elements, filter) {

      if (filter) {
        return new Result(q.matches(filter, this.first(elements).childNodes), this);
      } else {
        return new Result(this.first(elements).childNodes, this);
      }

    },

    /**
     * Gets the height and width of the window.
     * @method viewport
     * @return {Object} An object with width and height properties.
     */
    viewport: function () {

      return { width: window.innerWidth, height: window.innerHeight };

    },

    /**
     * Removes a class from the specified element(s).
     * @param {DOM Node | Array | DomUtilResult} elements The element(s) to remove a class from.
     * @param {String} className The class to remove.
     * @return {DomUtilResult}
     */
    removeClass: function (elements, className) {

      this.each(elements, function (element) {
        L.DomUtil.removeClass(element, className);
      });

      return new Result(elements, this);

    },

    /**
     * Adds a class to the specified element(s).
     * @param {DOM Node | Array | DomUtilResult} elements The elements to add a class to.
     * @param {String} className The class to add.
     * @return {DomUtilResult}
     * @chainable
     */
    addClass: function (elements, className) {

      this.each(elements, function (element) {
        L.DomUtil.addClass(element, className);
      });

      return new Result(elements, this);

    },

    /**
     * Determines if the specified element is a node list.
     * @param {Object} el The object to analyze.
     * @returns {Boolean} True if the specified object is a node list.
     */
    isNodeList: function (el) {

      return typeof el.length == &#x27;number&#x27; &amp;&amp; typeof el.item != &#x27;undefined&#x27;;

    },

    /**
     * Gets the height and width of the specified element.
     * Returns an object with width, height, outerWidth and outerHeight properties.
     * @method dimensions
     * @param {DOM Node} element The element to get the dimensions for.
     * @return An object with width, height, outerWidth and outerHeight properties.
     */
    dimensions: function (element) {

      return {
        width: element.clientWidth,
        height: element.clientHeight,
        outerWidth: element.offsetWidth,
        outerHeight: element.offsetHeight
      };

    },

    /**
     * Attaches an event handler to the specified element(s).
     * @param {DOM Node | Array | DomUtilResult} elements The elements to wire the event to.
     * @param {String} event The event to wire up.
     * @param {Function} callback The function to call when the event is fired.
     * @param {Object} scope The scope to call the callback in.
     * @returns {result}
     */
    on: function (elements, event, callback, scope) {

      this.each(elements, function (element) {
        L.DomEvent.on(element, event, callback, scope);
      });

      return new Result(elements, this);

    },

    /**
     * Detaches an event handler from the specified element(s).
     * @param {DOM Node | Array | DomUtilResult} elements The elements to wire the event to.
     * @param {String} event The event to wire up.
     * @param {Function} callback The function to call when the event is fired.
     * @returns {result}
     */
    off: function (elements, event, callback) {

      this.each(elements, function (element) {
        L.DomEvent.off(element, event, callback);
      });

      return new Result(elements, this);

    },

    /**
     * Creates a DOM Node, or wraps an existing DOM node in a DomUtilResult.
     * @param {String | DOM Node} tagName The name of an HTML tag, or a DOM Node to wrap up.
     * @param {String} [className] If a DOM Node is being created, a class name can be supplied to add to the DOM node.
     * @returns {DomUtilResult}
     */
    create: function (tagName, className) {

      var element = tagName;

      if (!className) {
        className = &quot;&quot;;
      }

      if (typeof(tagName) == &quot;string&quot;) {
        element = L.DomUtil.create.apply(this, [tagName, className]);
      }

      return new Result([element], this);

    },

    /**
     * Loops through each element in the specified array or DomUtilResult.
     * @param {Array | DomUtilResult} elements The elements to loop through.
     * @param {Function} callback The function to call for each element in the array.
     * @param {Object} scope The scope to execute the callback in.
     */
    each: function (elements, callback, scope) {

      // check to see if a DomUtilResult is being supplied
      if (elements.du &amp;&amp; elements.elements) {
        elements = elements.elements;
      }

      if (!utils.isArray(elements) &amp;&amp; !this.isNodeList(elements)) {
        callback.apply(scope, [elements, 0]);
        return this;
      }

      for (var elementIndex = 0; elementIndex &lt; elements.length; elementIndex++) {
        var result = callback.apply(scope ? scope : this, [elements[elementIndex], elementIndex]);

        if (result === false) {
          break;
        }
      }

    },

    /**
     * Gets the first element out of the specified Array or NodeList.
     * @param {Array | NodeList} elements The elements to search.
     * @returns {DOM Node} The first element.
     */
    first: function (elements) {

      if (!utils.isArray(elements) &amp;&amp; !this.isNodeList(elements)) {
        return elements;
      } else {
        return elements[0];
      }

    },

    /**
     * Gets all of the ancestors of the specified element(s).
     * @param {DOM Node | Array | DomUtilResult} elements The elements to get the parents for.
     * @returns {DomUtilResult} The parents of all of the specified element(s).
     */
    parents: function (elements) {

      var parents = [];

      this.each(elements, function (element) {

        var parent = element.parentNode;

        while (parent !== null &amp;&amp; parent !== undefined) {

          parents.push(parent);
          parent = parent.parentNode;

        }

      }, this);

      return new Result(parents, this);

    },

    /**
     * Determines whether or not the specified element(s) have the specified class.
     * @param {DOM Node | Array | DomUtilResult} elements The elements to search.
     * @param {String} className The className to look for.
     * @returns {Boolean} Whether or not any of the specified elements have the specified className.
     */
    hasClass: function (elements, className) {

      var result = false;

      this.each(elements, function (element) {

        if (element.className) {

          if (L.DomUtil.hasClass(element, className)) {
            result = true;
            return false;
          }

        }

      }, this);

      return result;

    }

  });

  return tomtom.dom.DomUtil;

});

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
